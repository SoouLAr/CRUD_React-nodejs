(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},111:function(e,t,a){},113:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(28),s=a.n(n),r=(a(53),a(2)),i=a(4),o=a.n(i),l=a(7),d=a(3),u=a(6),b=a.n(u),j=a(44),m=a.n(j),p=a(12),O=a.n(p),h=a(8),x=a(5),g=a(10),v=a.n(g),f=a(0),y={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",display:"flex",flexDirection:"column",padding:"20px 50px",backgroundColor:"white",borderRadius:10}},w=function(e){var t=e.modalIsOpen,a=e.closeModal,n=e.categories,s=e.isItemAdded,i=e.setisItemAdded;O.a.setAppElement("#root");Object(x.f)();var u={name:"",price:void 0,unit:void 0,image:"",category:""},j={name:void 0,image:void 0,price:void 0,unit:void 0,category:void 0},m=Object(c.useState)(""),p=Object(d.a)(m,2),g=p[0],w=p[1],k=Object(c.useState)(u),C=Object(d.a)(k,2),S=C[0],N=C[1],I=Object(c.useState)(j),E=Object(d.a)(I,2),A=E[0],z=E[1],M=Object(c.useState)(!1),T=Object(d.a)(M,2),P=T[0],_=T[1],q=function(e){switch(e.target.name){case"name":if(""===e.target.value){N(Object(r.a)(Object(r.a)({},S),{},{name:e.target.value})),z(Object(r.a)(Object(r.a)({},A),{},{name:!1}));break}/^[A-Za-z]+$/.test(e.target.value)?(N(Object(r.a)(Object(r.a)({},S),{},{name:e.target.value})),""!==e.target.value?z(Object(r.a)(Object(r.a)({},A),{},{name:!1})):z(Object(r.a)(Object(r.a)({},A),{},{name:!0}))):(N(Object(r.a)(Object(r.a)({},S),{},{name:e.target.value})),z(Object(r.a)(Object(r.a)({},A),{},{name:!0})));break;case"unit":if(""===e.target.value){z(Object(r.a)(Object(r.a)({},A),{},{unit:!1}));break}/^[1-90]+$/.test(e.target.value)?(N(Object(r.a)(Object(r.a)({},S),{},{unit:e.target.value})),z(Object(r.a)(Object(r.a)({},A),{},{unit:!1}))):(z(Object(r.a)(Object(r.a)({},A),{},{unit:!0})),N(Object(r.a)(Object(r.a)({},S),{},{unit:e.target.value})));break;case"price":if(""===e.target.value){z(Object(r.a)(Object(r.a)({},A),{},{price:!1}));break}/^[1-90]+$/.test(e.target.value)?(N(Object(r.a)(Object(r.a)({},S),{},{price:e.target.value})),z(Object(r.a)(Object(r.a)({},A),{},{price:!1}))):(z(Object(r.a)(Object(r.a)({},A),{},{price:!0})),N(Object(r.a)(Object(r.a)({},S),{},{price:e.target.value})));break;case"category":N(Object(r.a)(Object(r.a)({},S),{},{category:e.target.value}))}},D=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.files[0].type.startsWith("image/")){e.next=10;break}return N(Object(r.a)(Object(r.a)({},S),{},{image:t.target.files[0]})),z(Object(r.a)(Object(r.a)({},A),{},{image:!1})),e.next=5,b.a.get("https://fvlqu9sace.execute-api.eu-south-1.amazonaws.com/dev/upload/getuploadurl/".concat(t.target.files[0].name.split(".")[1]));case 5:a=e.sent,c=a.data,w(c.link),e.next=12;break;case 10:z(Object(r.a)(Object(r.a)({},A),{},{image:!0})),t.target.value=null;case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),_(!0),e.next=4,b.a.put(g,S.image,{headers:{"Content-Type":"multipart/form-data"}});case 4:return e.sent,e.prev=5,e.next=8,b.a.post("https://fvlqu9sace.execute-api.eu-south-1.amazonaws.com/dev/items/additem/".concat(S.name,"/").concat(S.price,"/").concat(S.unit,"/").concat(S.category,"?url=").concat(g.split("?")[0]),null,{headers:{Authorization:localStorage.getItem("idToken")}});case 8:201===e.sent.status&&(_(!1),h.c.success("Item added succsesfully"),a(),i(!s)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),h.c.error("Item didn't get added");case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(O.a,{isOpen:t,onRequestClose:a,style:y,contentLabel:"Example Modal",children:[Object(f.jsx)("div",{style:P?{visibility:"visible"}:{visibility:"hidden"},className:"upper-top",children:Object(f.jsx)(v.a,{className:"loader",type:"spinningBubbles",color:"red",height:"150px",width:"150px"})}),Object(f.jsxs)("form",{onSubmit:L,children:[Object(f.jsx)("div",{class:"form-row",children:Object(f.jsxs)("div",{class:"form-group col-md-6",children:[Object(f.jsx)("label",{for:"inputEmail4",children:"Name"}),Object(f.jsx)("label",{style:!0===A.name?{visibility:"visible",fontSize:"14px"}:{visibility:"hidden"},className:"ml-3 text-danger",children:"Must contain only characters"}),Object(f.jsx)("input",{style:!0===A.name?{border:"solid 1px red",boxShadow:"0 0 0 .2rem rgba(255,0,0,.25)"}:{},name:"name",onChange:q,type:"text",class:"form-control",id:"inputEmail4",value:S.name})]})}),Object(f.jsxs)("div",{class:"form-group",children:[Object(f.jsx)("label",{for:"inputAddress",children:"Image"}),Object(f.jsx)("label",{style:!0===A.image?{visibility:"visible",fontSize:"14px"}:{visibility:"hidden"},className:"ml-3 text-danger",children:"Make sure the document is an image!"}),Object(f.jsx)("input",{accept:"image/*",name:"image",onChange:D,type:"file",class:"form-control",id:"inputAddress",style:!0===A.image?{border:"solid 1px red",boxShadow:"0 0 0 .2rem rgba(255,0,0,.25)"}:{}})]}),Object(f.jsxs)("div",{class:"form-row",children:[Object(f.jsxs)("div",{class:"form-group col-md-5",children:[Object(f.jsx)("label",{for:"inputCity",children:"Price"}),Object(f.jsx)("label",{style:!0===A.price?{visibility:"visible",fontSize:"14px"}:{visibility:"hidden"},className:"ml-3 text-danger",children:"Must be a number"}),Object(f.jsx)("input",{name:"price",onChange:q,type:"text",class:"form-control",id:"inputCity",style:!0===A.price?{border:"solid 1px red",boxShadow:"0 0 0 .2rem rgba(255,0,0,.25)"}:{}})]}),Object(f.jsxs)("div",{class:"form-group col-md-5",children:[Object(f.jsx)("label",{for:"inputCity",children:"Unit"}),Object(f.jsx)("label",{style:!0===A.unit?{visibility:"visible",fontSize:"14px"}:{visibility:"hidden"},className:"ml-3 text-danger",children:"Must be a number"}),Object(f.jsx)("input",{name:"unit",onChange:q,type:"text",class:"form-control",id:"inputCity",style:!0===A.unit?{border:"solid 1px red",boxShadow:"0 0 0 .2rem rgba(255,0,0,.25)"}:{}})]}),Object(f.jsxs)("div",{class:"form-group col-md-4",children:[Object(f.jsx)("label",{for:"inputState",children:"Category"}),Object(f.jsx)("select",{name:"category",onChange:q,id:"inputState",class:"form-control",children:n.map((function(e,t){return Object(f.jsx)("option",{value:e._id,children:e.name},t)}))})]})]}),Object(f.jsxs)("div",{className:"row justify-content-between col-md-5",children:[Object(f.jsx)("button",{type:"submit",class:"btn btn-success",children:"Submit"}),Object(f.jsx)("button",{className:"btn btn-danger align-self-end",onClick:function(){a()},children:"Close"})]})]})]})},k=a(11),C=(a(103),{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",display:"flex",flexDirection:"column",padding:"20px 50px",backgroundColor:"white",borderRadius:10}}),S=function(e){var t=e.setModalConfirmationOpen,a=e.modalConfimationOpen,c=e.handleDelete,n=e.id;return O.a.setAppElement("#root"),Object(f.jsxs)(O.a,{isOpen:a,onRequestClose:t,style:C,children:[Object(f.jsx)("h1",{className:"primary",children:"Delete this Category?"}),Object(f.jsxs)("div",{className:"w-80 d-flex justify-content-between mt-4",children:[Object(f.jsx)("div",{className:"btn btn-danger",onClick:function(){c(n),t(!1)},children:"Delete"}),Object(f.jsx)("div",{className:"btn btn-primary right",onClick:function(){t(!1)},children:"Cancel"})]})]})},N=function(e){var t=e.item,a=e.setDidCategoryChange,n=e.setCategoryAdded,s=e.categoryAdded,r=e.setIsDeleted,i=Object(c.useState)(!1),u=Object(d.a)(i,2),j=u[0],m=u[1],p=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(!0),e.next=4,b.a.delete("https://fvlqu9sace.execute-api.eu-south-1.amazonaws.com/dev/category/deletecategory/".concat(t),{headers:{Authorization:localStorage.getItem("idToken")}});case 4:a=e.sent,200===a.status&&(r(!1),h.b.success("category deleted successfully!"),n(s+1)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),h.b.error("Catgory didn't delete!");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{class:"col-lg-12 col-md-4 col-sm-6 col-xs-12 mt-5",style:{height:"290px"},children:[Object(f.jsxs)("div",{class:"hovereffect",children:[Object(f.jsx)("img",{class:"img-responsive",onError:function(e){e.target.onError=null,e.target.src="https://bitsofco.de/content/images/2018/12/broken-1.png"},width:"100%",height:"100%",src:"".concat(t.image),alt:""}),Object(f.jsxs)("div",{class:"overlay",children:[Object(f.jsx)("h2",{children:"".concat(t.name)}),Object(f.jsx)(k.b,{onClick:function(){a()},class:"info",to:"/category/".concat(t._id),children:"link here"}),localStorage.getItem("idToken")&&Object(f.jsx)("i",{onClick:function(){m(!0)},class:"bi bi-archive info delete-icon"})]})]}),Object(f.jsx)(S,{id:t._id,handleDelete:p,modalConfimationOpen:j,setModalConfirmationOpen:m})]})},I=(a(104),function(e){var t=e.props;return Object(f.jsx)("div",{class:"col-lg-2 col-md-4 col-sm-6 col-xs-12 mt-5",style:{height:"290px"},children:Object(f.jsxs)("div",{class:"hovereffect",children:[Object(f.jsx)("img",{class:"img-responsive",width:"100%",onError:function(e){e.target.onError=null,e.target.src="https://bitsofco.de/content/images/2018/12/broken-1.png"},height:"100%",src:t.image,alt:"s"}),Object(f.jsxs)("div",{class:"overlay",children:[Object(f.jsx)("h2",{children:"".concat(t.name)}),Object(f.jsx)(k.b,{class:"info",to:"/items/".concat(t._id),children:"link here"})]})]})})}),E=function(e){var t=e.ItemComponent,a=e.isItemAdded,n=Object(c.useState)([]),s=Object(d.a)(n,2),r=s[0],i=s[1],u=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("https://fvlqu9sace.execute-api.eu-south-1.amazonaws.com/dev/items");case 2:t=e.sent,a=t.data,i(a.items);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){u()}),[a]),0===r.length?Object(f.jsx)(v.a,{className:"loader",type:"spinningBubbles",color:"red",height:"150px",width:"150px"}):Object(f.jsxs)("div",{style:{marginTop:"30px"},children:[Object(f.jsx)("h1",{className:"items__header",children:"Items"}),Object(f.jsx)("div",{className:"items",children:r.map((function(e){return Object(f.jsx)(t,{props:e},e._id)}))})]})},A=(a(105),function(e){var t=e.item,a=Object(x.f)(),n=Object(c.useState)(!1),s=Object(d.a)(n,2),r=s[0],i=s[1],u=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,b.a.delete("https://fvlqu9sace.execute-api.eu-south-1.amazonaws.com/dev/items/deleteitem/".concat(t._id),{headers:{Authorization:localStorage.getItem("idToken")}});case 4:200===e.sent.status&&(i(!1),a.push("/")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),i(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"item-details",children:[Object(f.jsx)("div",{style:r?{visibility:"visible"}:{visibility:"hidden"},className:"upper-top",children:Object(f.jsx)(v.a,{className:"upper-top",type:"spinningBubbles",color:"red",height:"150px",width:"150px"})}),Object(f.jsx)("div",{className:"image",children:Object(f.jsx)("img",{height:"100%",width:"100%",src:t.image,alt:""})}),Object(f.jsxs)("div",{className:"details",children:[Object(f.jsxs)("div",{className:"details-header",children:[Object(f.jsx)("h1",{children:t.name}),Object(f.jsx)("h1",{children:"$".concat(t.price)}),Object(f.jsx)("h1",{children:t.unit+" left"})]}),localStorage.getItem("idToken")&&Object(f.jsxs)("div",{className:"buttons-actions",children:[Object(f.jsx)(k.b,{to:"/edit/".concat(t._id),type:"button",class:"btn btn-primary",children:"Edit"}),Object(f.jsx)("button",{type:"button",class:"btn btn-danger",onClick:u,children:"Delete"})]})]})]})}),z=function(){var e=Object(x.g)()._id,t=Object(c.useState)({}),a=Object(d.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(!0),i=Object(d.a)(r,2),u=i[0],j=i[1],m=function(){var t=Object(l.a)(o.a.mark((function t(){var a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,j(!0),t.next=4,b.a.get(" https://fvlqu9sace.execute-api.eu-south-1.amazonaws.com/dev/items/finditembyid/".concat(e));case 4:a=t.sent,c=a.data,s(c.body),j(!1),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(0),j(!0),h.b.error("Something went wrong!"),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){m()}),[e]),!0===u?Object(f.jsx)(v.a,{className:"loader",type:"spinningBubbles",color:"red",height:"150px",width:"150px"}):Object(f.jsx)(A,{item:n})},M=function(e){var t=e.didCategoryChange,a=Object(x.g)().id,n=Object(c.useState)([]),s=Object(d.a)(n,2),r=s[0],i=s[1],u=Object(c.useState)(!0),j=Object(d.a)(u,2),m=j[0],p=j[1],O=function(){var e=Object(l.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,b.a.get("https://fvlqu9sace.execute-api.eu-south-1.amazonaws.com/dev/items/getitemsbycategory/".concat(a));case 3:t=e.sent,c=t.data,i(c.body),p(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){O()}),[t]),!0===m?Object(f.jsx)(v.a,{className:"loader",type:"spinningBubbles",color:"red",height:"150px",width:"150px"}):Object(f.jsxs)("div",{style:{marginTop:"30px"},children:[Object(f.jsx)("h1",{className:"items__header",children:"Items"}),Object(f.jsx)("div",{className:"items",children:r.map((function(e){return Object(f.jsx)(I,{props:e},e._id)}))})]})},T=(a(106),{name:!1,unit:!1,price:!1}),P=function(e){var t=e.categories,a=Object(x.g)().id,n=Object(x.f)(),s=Object(c.useState)({}),i=Object(d.a)(s,2),u=i[0],j=i[1],m=Object(c.useState)(T),p=Object(d.a)(m,2),O=p[0],g=p[1],y=Object(c.useState)(!1),w=Object(d.a)(y,2),k=w[0],C=w[1],S=function(){var e=Object(l.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("https://fvlqu9sace.execute-api.eu-south-1.amazonaws.com/dev/items/finditembyid/".concat(a));case 2:t=e.sent,c=t.data,j(c.body);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e){switch(e.target.name){case"name":if(""===e.target.value){j(Object(r.a)(Object(r.a)({},u),{},{name:e.target.value})),g(Object(r.a)(Object(r.a)({},O),{},{name:!1}));break}/^[A-Za-z]+$/.test(e.target.value)?(j(Object(r.a)(Object(r.a)({},u),{},{name:e.target.value})),""!==e.target.value?g(Object(r.a)(Object(r.a)({},O),{},{name:!1})):g(Object(r.a)(Object(r.a)({},O),{},{name:!0}))):(j(Object(r.a)(Object(r.a)({},u),{},{name:e.target.value})),g(Object(r.a)(Object(r.a)({},O),{},{name:!0})));break;case"unit":if(""===e.target.value){j(Object(r.a)(Object(r.a)({},u),{},{unit:e.target.value})),g(Object(r.a)(Object(r.a)({},O),{},{unit:!0}));break}/^[1-90]+$/.test(e.target.value)?(j(Object(r.a)(Object(r.a)({},u),{},{unit:e.target.value})),g(Object(r.a)(Object(r.a)({},O),{},{unit:!1}))):(g(Object(r.a)(Object(r.a)({},O),{},{unit:!0})),j(Object(r.a)(Object(r.a)({},u),{},{unit:e.target.value})));break;case"price":if(""===e.target.value){j(Object(r.a)(Object(r.a)({},u),{},{price:e.target.value})),g(Object(r.a)(Object(r.a)({},O),{},{price:!0}));break}/^[1-90]+$/.test(e.target.value)?(j(Object(r.a)(Object(r.a)({},u),{},{price:e.target.value})),g(Object(r.a)(Object(r.a)({},O),{},{price:!1}))):(g(Object(r.a)(Object(r.a)({},O),{},{price:!0})),j(Object(r.a)(Object(r.a)({},u),{},{price:e.target.value})));break;case"category":j(Object(r.a)(Object(r.a)({},u),{},{category:e.target.value}))}},I=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),!1!==O.name||!1!==O.price||!1!==O.unit){e.next=8;break}return C(!0),e.next=6,b.a.patch("https://fvlqu9sace.execute-api.eu-south-1.amazonaws.com/dev/items/updateitem/".concat(a,"/").concat(u.name,"/").concat(u.price,"/").concat(u.unit,"/").concat(u.category),null,{headers:{Authorization:localStorage.getItem("idToken")}});case 6:201===e.sent.status&&(C(!1),h.c.success("Item updated succesfully"),n.push("/"));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),h.c.error("Please change your inputs");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){S()}),[]),Object(f.jsxs)("div",{className:"input_form",children:[Object(f.jsx)("div",{style:k?{visibility:"visible"}:{visibility:"hidden"},className:"upper-top",children:Object(f.jsx)(v.a,{className:"upper-top",type:"spinningBubbles",color:"red",height:"150px",width:"150px"})}),Object(f.jsxs)("form",{onSubmit:I,children:[Object(f.jsxs)("div",{class:"form-group",children:[Object(f.jsx)("label",{for:"exampleInputEmail1",children:"Name"}),Object(f.jsx)("label",{style:!0===O.name?{visibility:"visible",fontSize:"14px"}:{visibility:"hidden"},className:"ml-3 text-danger",children:"Must contain only characters"}),Object(f.jsx)("input",{value:u.name,name:"name",type:"text",class:"form-control",onChange:N,style:!0===O.name?{border:"solid 1px red",boxShadow:"0 0 0 .2rem rgba(255,0,0,.25)"}:{}})]}),Object(f.jsxs)("div",{class:"form-group",children:[Object(f.jsx)("label",{for:"exampleInputPassword1",children:"Price"}),Object(f.jsx)("label",{style:!0===O.price?{visibility:"visible",fontSize:"14px"}:{visibility:"hidden"},className:"ml-3 text-danger",children:"Must be a number"}),Object(f.jsx)("input",{value:u.price,name:"price",type:"text",class:"form-control",onChange:N,style:!0===O.price?{border:"solid 1px red",boxShadow:"0 0 0 .2rem rgba(255,0,0,.25)"}:{}})]}),Object(f.jsxs)("div",{class:"form-group",children:[Object(f.jsx)("label",{for:"exampleInputPassword1",children:"Unit"}),Object(f.jsx)("label",{style:!0===O.unit?{visibility:"visible",fontSize:"14px"}:{visibility:"hidden"},className:"ml-3 text-danger",children:"Must be a number"}),Object(f.jsx)("input",{value:u.unit,name:"unit",type:"text",class:"form-control",onChange:N,style:!0===O.unit?{border:"solid 1px red",boxShadow:"0 0 0 .2rem rgba(255,0,0,.25)"}:{}})]}),Object(f.jsxs)("div",{className:"select_input",children:[Object(f.jsx)("p",{className:"input_label",children:"Category"}),Object(f.jsx)("select",{name:"category",className:"form-control",value:u.category,onChange:N,children:t.map((function(e){return Object(f.jsx)("option",{value:e._id,children:e.name},e._id)}))})]}),Object(f.jsx)("button",{type:"submit",class:"btn btn-primary mt-2",children:"Submit"})]})]})},_=a(47),q=function(e){var t=e.setIsOpen,a=e.setIsSuccesCreatedItem,c=e.setItemModal,n=e.setModalCategoryOpen,s=e.setLogininmodal;return Object(f.jsxs)("nav",{class:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(f.jsx)(k.b,{class:"navbar-brand",to:"/",onClick:function(){a()},children:"Magazin\xeb"}),Object(f.jsx)("div",{class:"collapse navbar-collapse  ",id:"navbarNav",children:Object(f.jsxs)("ul",{class:"navbar-nav",children:[Object(f.jsx)("li",{class:"nav-item active",children:Object(f.jsx)(k.b,{class:"nav-link",to:"/contactUs",children:"Contact Us"})}),localStorage.getItem("idToken")&&Object(f.jsx)("li",{class:"nav-item",children:Object(f.jsx)("div",{style:{cursor:"pointer"},class:"nav-link",onClick:function(){c(!0),t(!0)},children:"Add Item"})}),localStorage.getItem("idToken")&&Object(f.jsx)("li",{class:"nav-item",children:Object(f.jsx)("div",{style:{cursor:"pointer"},onClick:function(){n(!0)},class:"nav-link",to:"/s",children:"Add Category"})}),Object(f.jsx)("li",{class:"nav-item",children:Object(f.jsx)(k.b,{to:"/about",class:"nav-link",children:"About"})})]})}),localStorage.getItem("idToken")?Object(f.jsxs)("div",{style:{width:"150px"},className:"d-flex  justify-content-between",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("i",{class:"bi bi-person mr-1"}),Object(f.jsx)("span",{children:Object(_.a)(localStorage.getItem("idToken"))["cognito:username"]})]}),Object(f.jsxs)("div",{className:"logOut",style:{cursor:"pointer"},onClick:function(){localStorage.removeItem("idToken"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.reload(!0)},children:[Object(f.jsx)("span",{children:"Log out"}),Object(f.jsx)("i",{class:"bi bi-box-arrow-in-right ml-1"})]})]}):Object(f.jsx)("div",{style:{cursor:"pointer"},onClick:function(){s(!0)},children:"Login/Sign Up"})]})},D=a(17),L=function(){var e=Object(x.f)(),t=Object(c.useState)({email:"",message:""}),a=Object(d.a)(t,2),n=a[0],s=a[1],i=function(e){s(Object(r.a)(Object(r.a)({},n),{},Object(D.a)({},e.target.name,e.target.value)))},u=function(){var t=Object(l.a)(o.a.mark((function t(a){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),console.log(n),t.next=4,b.a.post("https://fvlqu9sace.execute-api.eu-south-1.amazonaws.com/dev/upload/".concat(n.email,"/").concat(n.message),{});case 4:c=t.sent,console.log(c),h.c.success("We will contact you shortly ".concat(n.email)),e.push("/");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(f.jsxs)("form",{className:"w-50 m-auto",onSubmit:u,children:[Object(f.jsxs)("div",{class:"form-group mt-5",children:[Object(f.jsx)("label",{for:"exampleInputEmail1",children:"Email address"}),Object(f.jsx)("input",{value:n.email,onChange:i,type:"email",class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email",name:"email"}),Object(f.jsx)("small",{id:"emailHelp",class:"form-text text-muted",children:"We'll never share your email with anyone else."})]}),Object(f.jsx)("textarea",{onChange:i,name:"message",value:n.message,class:"form-control",id:"exampleFormControlTextarea1",rows:"3"}),Object(f.jsx)("button",{type:"submit",class:"btn btn-primary mt-4",children:"Submit"})]})},R={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",display:"flex",flexDirection:"column",padding:"20px 50px",backgroundColor:"white",borderRadius:10}},U={names:"",image:""},B={names:void 0,images:void 0},W=function(e){var t=e.modalCategoryOpen,a=e.closeModal,n=e.categoryAdded,s=e.setCategoryAdded;O.a.setAppElement("#root");var i=Object(x.f)(),u=Object(c.useState)(U),j=Object(d.a)(u,2),m=j[0],p=j[1],g=Object(c.useState)(""),y=Object(d.a)(g,2),w=y[0],k=y[1],C=Object(c.useState)(B),S=Object(d.a)(C,2),N=S[0],I=S[1],E=Object(c.useState)(!1),A=Object(d.a)(E,2),z=A[0],M=A[1],T=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.files[0].type.startsWith("image/")){e.next=10;break}return p(Object(r.a)(Object(r.a)({},m),{},{image:t.target.files[0]})),e.next=4,b.a.get("https://fvlqu9sace.execute-api.eu-south-1.amazonaws.com/dev/upload/getuploadurl/".concat(t.target.files[0].name.split(".")[1]));case 4:a=e.sent,c=a.data,k(c.link),I(Object(r.a)(Object(r.a)({},N),{},{images:!1})),e.next=12;break;case 10:I(Object(r.a)(Object(r.a)({},N),{},{images:!0})),t.target.value=null;case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!1!==N.names||!1!==N.images){e.next=15;break}return M(!0),e.next=5,b.a.put(w,m.image,{headers:{"Content-Type":"multipart/form-data"}});case 5:return e.prev=5,e.next=8,b.a.post("https://fvlqu9sace.execute-api.eu-south-1.amazonaws.com/dev/category/".concat(m.names,"?url=").concat(w.split("?")[0]),null,{headers:{Authorization:localStorage.getItem("idToken")}});case 8:201===e.sent.status&&(M(!1),p(U),h.c.success("Added successfully"),a(),i.push("/"),s(n+1),I(B)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),h.c.error("Please complete the form correctly");case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(O.a,{isOpen:t,onRequestClose:a,style:R,contentLabel:"Example Modal",children:[Object(f.jsx)("div",{style:z?{visibility:"visible"}:{visibility:"hidden"},className:"upper-top",children:Object(f.jsx)(v.a,{className:"upper-top",type:"spinningBubbles",color:"red",height:"150px",width:"150px"})}),Object(f.jsxs)("form",{onSubmit:P,children:[Object(f.jsxs)("div",{class:"form-row",children:[Object(f.jsxs)("div",{class:"form-group col-md-6",children:[Object(f.jsx)("label",{for:"inputEmail4",children:"Name"}),Object(f.jsx)("label",{style:!0===N.names?{visibility:"visible",fontSize:"14px"}:{visibility:"hidden"},className:"ml-3 text-danger ",children:"Name must contains only characters"}),Object(f.jsx)("input",{name:"names",value:m.names,onChange:function(e){""===e.target.value&&p(Object(r.a)(Object(r.a)({},m),{},{names:e.target.value})),/^[A-Za-z]+$/.test(e.target.value)?(p(Object(r.a)(Object(r.a)({},m),{},{names:e.target.value})),""!==e.target.value?I(Object(r.a)(Object(r.a)({},N),{},{names:!1})):I(Object(r.a)(Object(r.a)({},N),{},{names:!0}))):(I(Object(r.a)(Object(r.a)({},N),{},{names:!0})),p(Object(r.a)(Object(r.a)({},m),{},{names:e.target.value})))},type:"text",class:"form-control",style:!0===N.names?{border:"solid 1px red",boxShadow:"0 0 0 .2rem rgba(255,0,0,.25)"}:{}})]}),Object(f.jsxs)("div",{class:"form-group  col-md-12",children:[Object(f.jsx)("label",{children:"Image"}),Object(f.jsx)("label",{style:!0===N.images?{visibility:"visible",fontSize:"14px"}:{visibility:"hidden"},className:"ml-3 text-danger",children:"Make sure the document is an image!"}),Object(f.jsx)("input",{accept:"image/*",onChange:T,name:"images",value:m.images,type:"file",class:"form-control pointer",style:!0===N.images?{border:"solid 1px red",boxShadow:"0 0 0 .2rem rgba(255,0,0,.25)"}:{}})]})]}),Object(f.jsxs)("div",{className:"row justify-content-between col-md-5",children:[Object(f.jsx)("button",{type:"submit",class:"btn btn-success",children:"Create"}),Object(f.jsx)("button",{className:"btn btn-danger align-self-end",onClick:function(){a()},children:"Close"})]})]})]})},$=function(){return Object(f.jsx)("div",{class:"page-wrap d-flex flex-row align-items-center mt-4",children:Object(f.jsx)("div",{class:"container",children:Object(f.jsx)("div",{class:"row justify-content-center",children:Object(f.jsxs)("div",{class:"col-md-12 text-center",children:[Object(f.jsx)("span",{class:"display-1 d-block",children:"404"}),Object(f.jsx)("div",{class:"mb-4 lead",children:"The page you are looking for was not found."}),Object(f.jsx)(k.b,{to:"/",class:"btn btn-link",children:"Home"})]})})})})},H=a(48),Z=a.n(H),J=(a(107),function(e){var t=e.closeModal,a=e.modalisOpen,n=(e.setModalConfirmCode,e.openLogin);O.a.setAppElement("#root");var s=Object(c.useState)(!0),i=Object(d.a)(s,2),u=i[0],j=i[1],m=Object(c.useState)(void 0),p=Object(d.a)(m,2),x=p[0],g=p[1],v=Object(c.useState)({username:"",email:"",password:""}),y=Object(d.a)(v,2),w=y[0],k=y[1],C=Object(c.useState)({email:!1,username:!1,passwordOneCapitalLetter:!1,passwordOnenumber:!1,passwordLonger:!1}),S=Object(d.a)(C,2),N=S[0],I=S[1],E=function(e){var t;k(Object(r.a)(Object(r.a)({},w),{},Object(D.a)({},e.target.name,e.target.value))),"email"===e.target.name&&I(Object(r.a)(Object(r.a)({},N),{},{email:!Z()(e.target.value)})),"username"===e.target.name&&I(Object(r.a)(Object(r.a)({},N),{},{username:e.target.value.length<3})),"password"===e.target.name&&(t=e.target.value,I(Object(r.a)(Object(r.a)({},N),{},{passwordOneCapitalLetter:!/[A-Z]/.test(t),passwordLonger:t.length<8,passwordOnenumber:!/[1-90]/.test(t)})))},A=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,b.a.get("https://fvlqu9sace.execute-api.eu-south-1.amazonaws.com/dev/cognito/adduser?username=".concat(w.username,"&email=").concat(w.email,"&password=").concat(w.password));case 4:201===e.sent.status&&j(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),h.b.error("Username is taken");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("https://fvlqu9sace.execute-api.eu-south-1.amazonaws.com/dev/cognito/confirmcode?username=".concat(w.username,"&code=").concat(x));case 3:201===e.sent.status?(h.b.success("Verified.Now login!"),t()):h.b.error("Wrong code, try again!"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),h.b.error("Try again!");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get(" https://fvlqu9sace.execute-api.eu-south-1.amazonaws.com/dev/cognito/resendconfirmationcode/?username=".concat(w.username));case 3:200===e.sent.status&&h.b.success("Check your email"),j(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),h.b.error("Try again");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)(O.a,{isOpen:a,onRequestClose:t,style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",display:"flex",flexDirection:"column",padding:"20px 50px",backgroundColor:"white",borderRadius:10,position:"relative",width:"35vw",height:"auto"}},children:u?Object(f.jsxs)("div",{classNameName:"signup",children:[Object(f.jsx)("div",{class:"float-left",children:Object(f.jsx)("button",{type:"button",class:"btn btn-outline-dark",onClick:function(){t(!1),n(!0)},children:"Back"})}),Object(f.jsxs)("form",{className:"w-50 m-auto",children:[Object(f.jsxs)("div",{className:"form-group mt-2",children:[Object(f.jsx)("label",{for:"exampleInputEmail1",children:"E-mail"})," ",N.email&&Object(f.jsx)("p",{className:"d-inline text-danger ml-3",children:"E-mail must be a valid one"}),Object(f.jsx)("input",{type:"email",className:"form-control",id:"exampleInputEmail1",placeholder:"E-mail",name:"email",value:w.email,onChange:E})]}),Object(f.jsxs)("div",{className:"form-group mt-2",children:[Object(f.jsx)("label",{for:"exampleInputEmail1",children:"Username"})," ",N.username&&Object(f.jsx)("p",{className:"d-inline text-danger ml-3",children:"Longer username"}),Object(f.jsx)("input",{type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Username",name:"username",value:w.username,onChange:E})]}),Object(f.jsxs)("div",{className:"form-group mt-2",children:[Object(f.jsx)("label",{for:"exampleInputPassword1",children:"Password"}),Object(f.jsx)("input",{type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password",name:"password",value:w.password,onChange:E}),N.passwordOnenumber&&Object(f.jsx)("p",{className:"text-danger warningPassword",children:"Password must contain a number"}),N.passwordOneCapitalLetter&&Object(f.jsx)("p",{className:"text-danger warningPassword",children:"Password must contain a capital letter"}),N.passwordLonger&&Object(f.jsx)("p",{className:"text-danger warningPassword",children:"Password should be at least 8 character"})]}),Object(f.jsx)("button",{type:"submit",className:"btn btn-outline-primary mt-2",onClick:A,children:"Sign Up"})]})]}):Object(f.jsxs)("div",{className:"",children:[Object(f.jsx)("p",{children:"Please check you email we sent you a verification code there!"}),Object(f.jsx)("label",{for:"exampleInputEmail1",children:"Code"}),Object(f.jsxs)("div",{className:"w-100",children:[Object(f.jsx)("input",{value:x,type:"text",class:"form-control w-50 d-inline",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter code",onChange:function(e){return g(e.target.value)}}),Object(f.jsx)("button",{className:"btn btn-success d-inline ml-4",onClick:z,children:"Approve"})]}),Object(f.jsx)("p",{className:"mt-3 mb-1",children:"Didn't get any code?"}),Object(f.jsx)("button",{className:"btn btn-outline-primary btn-sm w-25",onClick:M,children:"Send again"})]})})}),F={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",height:"auto",display:"flex",flexDirection:"column",padding:"20px 50px",backgroundColor:"white",borderRadius:10}},V=function(e){var t=e.modalIsOpen,a=e.closeModal,n=e.setLoginSignUp;O.a.setAppElement("#root");var s=Object(c.useState)(!1),i=Object(d.a)(s,2),u=i[0],j=i[1],m=Object(c.useState)({username:"",password:""}),p=Object(d.a)(m,2),x=p[0],g=p[1],v=function(){var e=Object(l.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,b.a.get("https://fvlqu9sace.execute-api.eu-south-1.amazonaws.com/dev/cognito/login?username=".concat(x.username,"&password=").concat(x.password));case 4:c=e.sent,localStorage.setItem("accesToken",c.data.message.accessToken),localStorage.setItem("idToken",c.data.message.idToken),localStorage.setItem("refreshToken",c.data.message.refreshToken),201===c.status&&a(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),h.b.error("Wrong password try again");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),y=function(e){g(Object(r.a)(Object(r.a)({},x),{},Object(D.a)({},e.target.name,e.target.value))),"password"===e.target.name&&j(e.target.value.length<8)};return Object(f.jsxs)(O.a,{isOpen:t,style:F,children:[Object(f.jsxs)("form",{className:"w-100 m-auto",onSubmit:v,children:[Object(f.jsxs)("div",{className:"form-group ",children:[Object(f.jsx)("label",{for:"exampleInputEmail1",children:"Username"}),Object(f.jsx)("input",{value:x.username,name:"username",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Username",onChange:y})]}),Object(f.jsxs)("div",{className:"form-group ",children:[Object(f.jsx)("label",{for:"exampleInputPassword1",children:"Password"})," ",u&&Object(f.jsx)("p",{className:"d-inline  text-danger ml-2",children:"Password too short"}),Object(f.jsx)("input",{value:x.password,name:"password",type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password",onChange:y})]}),Object(f.jsx)("button",{type:"submit",className:"btn btn-outline-primary mt-2",children:"Log In"}),Object(f.jsx)("hr",{class:"mt-3 mb-3"}),Object(f.jsx)("p",{className:"d-inline",children:"Create account here"}),Object(f.jsx)("button",{type:"button",class:"btn btn-light btn-sm ml-2",onClick:function(){a(),n(!0)},children:"Create"})]}),Object(f.jsx)("div",{className:" w-100 mt-3",children:Object(f.jsx)("button",{type:"button",class:"btn btn-outline-danger btn-sm float-right",onClick:function(){a(!1)},children:"Exit"})})]})};a(111);var G=function(){var e=Object(c.useState)({}),t=Object(d.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(!1),i=Object(d.a)(s,2),u=i[0],j=i[1],p=Object(c.useState)(0),O=Object(d.a)(p,2),g=O[0],y=O[1],k=Object(c.useState)(0),C=Object(d.a)(k,2),S=C[0],A=C[1],T=Object(c.useState)([]),_=Object(d.a)(T,2),D=_[0],R=_[1],U=Object(c.useState)(!1),B=Object(d.a)(U,2),H=B[0],Z=B[1],F=Object(c.useState)(!0),G=Object(d.a)(F,2),K=G[0],Q=G[1],X=Object(c.useState)(!1),Y=Object(d.a)(X,2),ee=Y[0],te=Y[1],ae=Object(c.useState)(!1),ce=Object(d.a)(ae,2),ne=ce[0],se=ce[1],re=Object(c.useState)(!1),ie=Object(d.a)(re,2),oe=ie[0],le=ie[1],de=Object(c.useState)(!1),ue=Object(d.a)(de,2),be=ue[0],je=ue[1],me=Object(c.useState)(!1),pe=Object(d.a)(me,2),Oe=pe[0],he=pe[1],xe=document.documentElement.clientWidth<640?1:document.documentElement.clientWidth>1280?3:2,ge={dots:!0,infinite:!0,speed:500,slidesToShow:xe,slidesToScroll:xe},ve=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("https://fvlqu9sace.execute-api.eu-south-1.amazonaws.com/dev/category");case 2:t=e.sent,a=t.data,R(a.categories);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){ve()}),[g]),Object(f.jsxs)("div",{className:"homepage",children:[Object(f.jsx)(h.a,{position:"top-center",reverseOrder:!1}),Object(f.jsx)(q,{setItemModal:Q,itemModal:K,setIsOpen:j,setModalCategoryOpen:te,isSuccesCreatedItem:S,setIsSuccesCreatedItem:A,setCategories:R,setLogininmodal:se}),Object(f.jsxs)("div",{className:"bodyMix bg-light",children:[Object(f.jsxs)("div",{className:"categories",children:[Object(f.jsx)("h2",{className:"category__header",children:" Categories"}),Object(f.jsx)("div",{style:Oe?{visibility:"visible"}:{visibility:"hidden"},className:"upper-top",children:Object(f.jsx)(v.a,{className:"loader",type:"spinningBubbles",color:"red",height:"150px",width:"150px"})}),Object(f.jsx)(m.a,Object(r.a)(Object(r.a)({},ge),{},{children:D.map((function(e){return Object(f.jsx)(N,{setIsDeleted:he,categoryAdded:g,setCategoryAdded:y,didCategoryChange:!0,setDidCategoryChange:function(){Z(!H)},item:e},e._id)}))}))]}),Object(f.jsxs)(x.c,{children:[Object(f.jsx)(x.a,{exact:!0,path:"/",children:Object(f.jsx)(E,{isItemAdded:be,ItemComponent:I})}),Object(f.jsx)(x.a,{path:"/contactUs",children:Object(f.jsx)(L,{})}),Object(f.jsx)(x.a,{path:"/category/:id",children:Object(f.jsx)(M,{didCategoryChange:H})}),Object(f.jsx)(x.a,{path:"/edit/:id",children:Object(f.jsx)(P,{categories:D,toast:h.b})}),Object(f.jsx)(x.a,{path:"/items/:_id",children:Object(f.jsx)(z,{})}),Object(f.jsx)(x.a,{path:"*",component:$})]}),Object(f.jsx)(w,{itemModal:K,modalIsOpen:u,closeModal:function(){return j(!1)},categories:D,ariaHideApp:!1,errors:a,setErrors:n,setisItemAdded:je,isItemAdded:be}),Object(f.jsx)(W,{categoryAdded:g,setCategoryAdded:y,itemModal:K,modalCategoryOpen:ee,closeModal:function(){return te(!1)},ariaHideApp:!1}),Object(f.jsx)(J,{closeModal:function(){return le(!1)},modalisOpen:oe,openLogin:se}),Object(f.jsx)(V,{modalIsOpen:ne,closeModal:se,setLoginSignUp:le})]})]})};a(112);s.a.render(Object(f.jsx)(k.a,{children:Object(f.jsx)(G,{})}),document.getElementById("root"))},53:function(e,t,a){}},[[113,1,2]]]);
//# sourceMappingURL=main.819ff2cf.chunk.js.map