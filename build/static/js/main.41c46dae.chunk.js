(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},111:function(e,t,a){},113:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(28),s=a.n(c),r=(a(53),a(2)),i=a(4),o=a.n(i),l=a(7),d=a(3),b=a(6),u=a.n(b),j=a(44),m=a.n(j),p=a(12),O=a.n(p),h=a(8),x=a(5),g=a(10),f=a.n(g),v=a(0),y={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",display:"flex",flexDirection:"column",padding:"20px 50px",backgroundColor:"white",borderRadius:10}},w=function(e){var t=e.modalIsOpen,a=e.closeModal,c=e.categories,s=e.isItemAdded,i=e.setisItemAdded;O.a.setAppElement("#root");Object(x.f)();var b={name:"",price:void 0,unit:void 0,image:"",category:""},j={name:void 0,image:void 0,price:void 0,unit:void 0,category:void 0},m=Object(n.useState)(""),p=Object(d.a)(m,2),g=p[0],w=p[1],k=Object(n.useState)(b),C=Object(d.a)(k,2),S=C[0],N=C[1],I=Object(n.useState)(j),A=Object(d.a)(I,2),E=A[0],z=A[1],T=Object(n.useState)(!1),M=Object(d.a)(T,2),D=M[0],P=M[1],_=function(e){switch(e.target.name){case"name":if(""===e.target.value){N(Object(r.a)(Object(r.a)({},S),{},{name:e.target.value})),z(Object(r.a)(Object(r.a)({},E),{},{name:!1}));break}/^[A-Za-z]+$/.test(e.target.value)?(N(Object(r.a)(Object(r.a)({},S),{},{name:e.target.value})),""!==e.target.value?z(Object(r.a)(Object(r.a)({},E),{},{name:!1})):z(Object(r.a)(Object(r.a)({},E),{},{name:!0}))):(N(Object(r.a)(Object(r.a)({},S),{},{name:e.target.value})),z(Object(r.a)(Object(r.a)({},E),{},{name:!0})));break;case"unit":if(""===e.target.value){z(Object(r.a)(Object(r.a)({},E),{},{unit:!1}));break}/^[1-90]+$/.test(e.target.value)?(N(Object(r.a)(Object(r.a)({},S),{},{unit:e.target.value})),z(Object(r.a)(Object(r.a)({},E),{},{unit:!1}))):(z(Object(r.a)(Object(r.a)({},E),{},{unit:!0})),N(Object(r.a)(Object(r.a)({},S),{},{unit:e.target.value})));break;case"price":if(""===e.target.value){z(Object(r.a)(Object(r.a)({},E),{},{price:!1}));break}/^[1-90]+$/.test(e.target.value)?(N(Object(r.a)(Object(r.a)({},S),{},{price:e.target.value})),z(Object(r.a)(Object(r.a)({},E),{},{price:!1}))):(z(Object(r.a)(Object(r.a)({},E),{},{price:!0})),N(Object(r.a)(Object(r.a)({},S),{},{price:e.target.value})));break;case"category":N(Object(r.a)(Object(r.a)({},S),{},{category:e.target.value}))}},U=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.files[0].type.startsWith("image/")){e.next=10;break}return N(Object(r.a)(Object(r.a)({},S),{},{image:t.target.files[0]})),z(Object(r.a)(Object(r.a)({},E),{},{image:!1})),e.next=5,u.a.get("https://w3mjpdk90m.execute-api.eu-south-1.amazonaws.com/dev/getUploadUrl/".concat(t.target.files[0].name.split(".")[1]));case 5:a=e.sent,n=a.data,w(n.link),e.next=12;break;case 10:z(Object(r.a)(Object(r.a)({},E),{},{image:!0})),t.target.value=null;case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),P(!0),e.next=4,u.a.put(g,S.image,{headers:{"Content-Type":"multipart/form-data"}});case 4:return e.sent,e.prev=5,e.next=8,u.a.post("https://8juechbwt9.execute-api.eu-south-1.amazonaws.com/dev/addItem/".concat(S.name,"/").concat(S.price,"/").concat(S.unit,"/").concat(S.category,"?url=").concat(g.split("?")[0]),null,{headers:{"Access-Control-Allow-Origin":"*",Authorization:localStorage.getItem("idToken")}});case 8:201===e.sent.status&&(P(!1),h.c.success("Item added succsesfully"),a(),i(!s)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),h.c.error("Item didn't get added");case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(O.a,{isOpen:t,onRequestClose:a,style:y,contentLabel:"Example Modal",children:[Object(v.jsx)("div",{style:D?{visibility:"visible"}:{visibility:"hidden"},className:"upper-top",children:Object(v.jsx)(f.a,{className:"loader",type:"spinningBubbles",color:"red",height:"150px",width:"150px"})}),Object(v.jsxs)("form",{onSubmit:L,children:[Object(v.jsx)("div",{class:"form-row",children:Object(v.jsxs)("div",{class:"form-group col-md-6",children:[Object(v.jsx)("label",{for:"inputEmail4",children:"Name"}),Object(v.jsx)("label",{style:!0===E.name?{visibility:"visible",fontSize:"14px"}:{visibility:"hidden"},className:"ml-3 text-danger",children:"Must contain only characters"}),Object(v.jsx)("input",{style:!0===E.name?{border:"solid 1px red",boxShadow:"0 0 0 .2rem rgba(255,0,0,.25)"}:{},name:"name",onChange:_,type:"text",class:"form-control",id:"inputEmail4",value:S.name})]})}),Object(v.jsxs)("div",{class:"form-group",children:[Object(v.jsx)("label",{for:"inputAddress",children:"Image"}),Object(v.jsx)("label",{style:!0===E.image?{visibility:"visible",fontSize:"14px"}:{visibility:"hidden"},className:"ml-3 text-danger",children:"Make sure the document is an image!"}),Object(v.jsx)("input",{accept:"image/*",name:"image",onChange:U,type:"file",class:"form-control",id:"inputAddress",style:!0===E.image?{border:"solid 1px red",boxShadow:"0 0 0 .2rem rgba(255,0,0,.25)"}:{}})]}),Object(v.jsxs)("div",{class:"form-row",children:[Object(v.jsxs)("div",{class:"form-group col-md-5",children:[Object(v.jsx)("label",{for:"inputCity",children:"Price"}),Object(v.jsx)("label",{style:!0===E.price?{visibility:"visible",fontSize:"14px"}:{visibility:"hidden"},className:"ml-3 text-danger",children:"Must be a number"}),Object(v.jsx)("input",{name:"price",onChange:_,type:"text",class:"form-control",id:"inputCity",style:!0===E.price?{border:"solid 1px red",boxShadow:"0 0 0 .2rem rgba(255,0,0,.25)"}:{}})]}),Object(v.jsxs)("div",{class:"form-group col-md-5",children:[Object(v.jsx)("label",{for:"inputCity",children:"Unit"}),Object(v.jsx)("label",{style:!0===E.unit?{visibility:"visible",fontSize:"14px"}:{visibility:"hidden"},className:"ml-3 text-danger",children:"Must be a number"}),Object(v.jsx)("input",{name:"unit",onChange:_,type:"text",class:"form-control",id:"inputCity",style:!0===E.unit?{border:"solid 1px red",boxShadow:"0 0 0 .2rem rgba(255,0,0,.25)"}:{}})]}),Object(v.jsxs)("div",{class:"form-group col-md-4",children:[Object(v.jsx)("label",{for:"inputState",children:"Category"}),Object(v.jsx)("select",{name:"category",onChange:_,id:"inputState",class:"form-control",children:c.map((function(e,t){return Object(v.jsx)("option",{value:e._id,children:e.name},t)}))})]})]}),Object(v.jsxs)("div",{className:"row justify-content-between col-md-5",children:[Object(v.jsx)("button",{type:"submit",class:"btn btn-success",children:"Submit"}),Object(v.jsx)("button",{className:"btn btn-danger align-self-end",onClick:function(){a()},children:"Close"})]})]})]})},k=a(11),C=(a(103),{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",display:"flex",flexDirection:"column",padding:"20px 50px",backgroundColor:"white",borderRadius:10}}),S=function(e){var t=e.setModalConfirmationOpen,a=e.modalConfimationOpen,n=e.handleDelete,c=e.id;return O.a.setAppElement("#root"),Object(v.jsxs)(O.a,{isOpen:a,onRequestClose:t,style:C,children:[Object(v.jsx)("h1",{className:"primary",children:"Delete this Category?"}),Object(v.jsxs)("div",{className:"w-80 d-flex justify-content-between mt-4",children:[Object(v.jsx)("div",{className:"btn btn-danger",onClick:function(){n(c),t(!1)},children:"Delete"}),Object(v.jsx)("div",{className:"btn btn-primary right",onClick:function(){t(!1)},children:"Cancel"})]})]})},N=function(e){var t=e.item,a=e.setDidCategoryChange,c=e.setCategoryAdded,s=e.categoryAdded,r=e.setIsDeleted,i=Object(n.useState)(!1),b=Object(d.a)(i,2),j=b[0],m=b[1],p=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,u.a.delete("https://iy9sfrvm61.execute-api.eu-south-1.amazonaws.com/dev/deleteCategory/".concat(t),{headers:{Auth:localStorage.getItem("idToken")}});case 3:a=e.sent,200===a.status?(r(!1),h.b.success("category deleted successfully!"),c(s+1)):h.b.error("Catgory didn't delete!");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{class:"col-lg-12 col-md-4 col-sm-6 col-xs-12 mt-5",style:{height:"290px"},children:[Object(v.jsxs)("div",{class:"hovereffect",children:[Object(v.jsx)("img",{class:"img-responsive",onError:function(e){e.target.onError=null,e.target.src="https://bitsofco.de/content/images/2018/12/broken-1.png"},width:"100%",height:"100%",src:"".concat(t.image),alt:""}),Object(v.jsxs)("div",{class:"overlay",children:[Object(v.jsx)("h2",{children:"".concat(t.name)}),Object(v.jsx)(k.b,{onClick:function(){a()},class:"info",to:"/category/".concat(t._id),children:"link here"}),localStorage.getItem("idToken")&&Object(v.jsx)("i",{onClick:function(){m(!0)},class:"bi bi-archive info delete-icon"})]})]}),Object(v.jsx)(S,{id:t._id,handleDelete:p,modalConfimationOpen:j,setModalConfirmationOpen:m})]})},I=(a(104),function(e){var t=e.props;return Object(v.jsx)("div",{class:"col-lg-2 col-md-4 col-sm-6 col-xs-12 mt-5",style:{height:"290px"},children:Object(v.jsxs)("div",{class:"hovereffect",children:[Object(v.jsx)("img",{class:"img-responsive",width:"100%",onError:function(e){e.target.onError=null,e.target.src="https://bitsofco.de/content/images/2018/12/broken-1.png"},height:"100%",src:t.image,alt:"s"}),Object(v.jsxs)("div",{class:"overlay",children:[Object(v.jsx)("h2",{children:"".concat(t.name)}),Object(v.jsx)(k.b,{class:"info",to:"/items/".concat(t._id),children:"link here"})]})]})})}),A=function(e){var t=e.ItemComponent,a=e.isItemAdded,c=Object(n.useState)([]),s=Object(d.a)(c,2),r=s[0],i=s[1],b=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("https://rg7ptpz3jb.execute-api.eu-south-1.amazonaws.com/dev/getAllItems");case 2:t=e.sent,a=t.data,i(a.items);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){b()}),[a]),0===r.length?Object(v.jsx)(f.a,{className:"loader",type:"spinningBubbles",color:"red",height:"150px",width:"150px"}):Object(v.jsxs)("div",{style:{marginTop:"30px"},children:[Object(v.jsx)("h1",{className:"items__header",children:"Items"}),Object(v.jsx)("div",{className:"items",children:r.map((function(e){return Object(v.jsx)(t,{props:e},e._id)}))})]})},E=(a(105),function(e){var t=e.item,a=Object(x.f)(),c=Object(n.useState)(!1),s=Object(d.a)(c,2),r=s[0],i=s[1],b=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,u.a.delete("https://6vy0y6749g.execute-api.eu-south-1.amazonaws.com/dev/deleteItem/".concat(t._id),{headers:{Auth:localStorage.getItem("idToken")}});case 3:200===e.sent.status&&(i(!1),a.push("/"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"item-details",children:[Object(v.jsx)("div",{style:r?{visibility:"visible"}:{visibility:"hidden"},className:"upper-top",children:Object(v.jsx)(f.a,{className:"upper-top",type:"spinningBubbles",color:"red",height:"150px",width:"150px"})}),Object(v.jsx)("div",{className:"image",children:Object(v.jsx)("img",{height:"100%",width:"100%",src:t.image,alt:""})}),Object(v.jsxs)("div",{className:"details",children:[Object(v.jsxs)("div",{className:"details-header",children:[Object(v.jsx)("h1",{children:t.name}),Object(v.jsx)("h1",{children:"$".concat(t.price)}),Object(v.jsx)("h1",{children:t.unit+" left"})]}),localStorage.getItem("idToken")&&Object(v.jsxs)("div",{className:"buttons-actions",children:[Object(v.jsx)(k.b,{to:"/edit/".concat(t._id),type:"button",class:"btn btn-primary",children:"Edit"}),Object(v.jsx)("button",{type:"button",class:"btn btn-danger",onClick:b,children:"Delete"})]})]})]})}),z=function(){var e=Object(x.g)()._id,t=Object(n.useState)({}),a=Object(d.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(!0),i=Object(d.a)(r,2),b=i[0],j=i[1],m=function(){var t=Object(l.a)(o.a.mark((function t(){var a,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,j(!0),t.next=4,u.a.get("https://94x6a3w8cb.execute-api.eu-south-1.amazonaws.com/dev/findItemByID/".concat(e));case 4:a=t.sent,n=a.data,s(n.body),j(!1),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(0),j(!0),h.b.error("Something went wrong!"),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){m()}),[e]),!0===b?Object(v.jsx)(f.a,{className:"loader",type:"spinningBubbles",color:"red",height:"150px",width:"150px"}):Object(v.jsx)(E,{item:c})},T=function(e){var t=e.didCategoryChange,a=Object(x.g)().id,c=Object(n.useState)([]),s=Object(d.a)(c,2),r=s[0],i=s[1],b=Object(n.useState)(!0),j=Object(d.a)(b,2),m=j[0],p=j[1],O=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,u.a.get("https://0rwn1n05kf.execute-api.eu-south-1.amazonaws.com/dev/getItemByCategory/".concat(a));case 3:t=e.sent,n=t.data,i(n.body),p(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){O()}),[t]),!0===m?Object(v.jsx)(f.a,{className:"loader",type:"spinningBubbles",color:"red",height:"150px",width:"150px"}):Object(v.jsxs)("div",{style:{marginTop:"30px"},children:[Object(v.jsx)("h1",{className:"items__header",children:"Items"}),Object(v.jsx)("div",{className:"items",children:r.map((function(e){return Object(v.jsx)(I,{props:e},e._id)}))})]})},M=(a(106),{name:!1,unit:!1,price:!1}),D=function(e){var t=e.categories,a=Object(x.g)().id,c=Object(x.f)(),s=Object(n.useState)({}),i=Object(d.a)(s,2),b=i[0],j=i[1],m=Object(n.useState)(M),p=Object(d.a)(m,2),O=p[0],g=p[1],y=Object(n.useState)(!1),w=Object(d.a)(y,2),k=w[0],C=w[1],S=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("https://94x6a3w8cb.execute-api.eu-south-1.amazonaws.com/dev/findItemByID/".concat(a));case 2:t=e.sent,n=t.data,j(n.body);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e){switch(e.target.name){case"name":if(""===e.target.value){j(Object(r.a)(Object(r.a)({},b),{},{name:e.target.value})),g(Object(r.a)(Object(r.a)({},O),{},{name:!1}));break}/^[A-Za-z]+$/.test(e.target.value)?(j(Object(r.a)(Object(r.a)({},b),{},{name:e.target.value})),""!==e.target.value?g(Object(r.a)(Object(r.a)({},O),{},{name:!1})):g(Object(r.a)(Object(r.a)({},O),{},{name:!0}))):(j(Object(r.a)(Object(r.a)({},b),{},{name:e.target.value})),g(Object(r.a)(Object(r.a)({},O),{},{name:!0})));break;case"unit":if(""===e.target.value){j(Object(r.a)(Object(r.a)({},b),{},{unit:e.target.value})),g(Object(r.a)(Object(r.a)({},O),{},{unit:!0}));break}/^[1-90]+$/.test(e.target.value)?(j(Object(r.a)(Object(r.a)({},b),{},{unit:e.target.value})),g(Object(r.a)(Object(r.a)({},O),{},{unit:!1}))):(g(Object(r.a)(Object(r.a)({},O),{},{unit:!0})),j(Object(r.a)(Object(r.a)({},b),{},{unit:e.target.value})));break;case"price":if(""===e.target.value){j(Object(r.a)(Object(r.a)({},b),{},{price:e.target.value})),g(Object(r.a)(Object(r.a)({},O),{},{price:!0}));break}/^[1-90]+$/.test(e.target.value)?(j(Object(r.a)(Object(r.a)({},b),{},{price:e.target.value})),g(Object(r.a)(Object(r.a)({},O),{},{price:!1}))):(g(Object(r.a)(Object(r.a)({},O),{},{price:!0})),j(Object(r.a)(Object(r.a)({},b),{},{price:e.target.value})));break;case"category":j(Object(r.a)(Object(r.a)({},b),{},{category:e.target.value}))}},I=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!1!==O.name||!1!==O.price||!1!==O.unit){e.next=9;break}return C(!0),e.next=5,u.a.patch("https://2xw125ghwk.execute-api.eu-south-1.amazonaws.com/dev/updateItem/".concat(a,"/").concat(b.name,"/").concat(b.price,"/").concat(b.unit,"/").concat(b.category),null,{headers:{"Access-Control-Allow-Origin":"*",Authorization:localStorage.getItem("idToken")}});case 5:201===e.sent.status&&(C(!1),h.c.success("Item updated succesfully"),c.push("/")),e.next=10;break;case 9:h.c.error("Please change your inputs");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){S()}),[]),Object(v.jsxs)("div",{className:"input_form",children:[Object(v.jsx)("div",{style:k?{visibility:"visible"}:{visibility:"hidden"},className:"upper-top",children:Object(v.jsx)(f.a,{className:"upper-top",type:"spinningBubbles",color:"red",height:"150px",width:"150px"})}),Object(v.jsxs)("form",{onSubmit:I,children:[Object(v.jsxs)("div",{class:"form-group",children:[Object(v.jsx)("label",{for:"exampleInputEmail1",children:"Name"}),Object(v.jsx)("label",{style:!0===O.name?{visibility:"visible",fontSize:"14px"}:{visibility:"hidden"},className:"ml-3 text-danger",children:"Must contain only characters"}),Object(v.jsx)("input",{value:b.name,name:"name",type:"text",class:"form-control",onChange:N,style:!0===O.name?{border:"solid 1px red",boxShadow:"0 0 0 .2rem rgba(255,0,0,.25)"}:{}})]}),Object(v.jsxs)("div",{class:"form-group",children:[Object(v.jsx)("label",{for:"exampleInputPassword1",children:"Price"}),Object(v.jsx)("label",{style:!0===O.price?{visibility:"visible",fontSize:"14px"}:{visibility:"hidden"},className:"ml-3 text-danger",children:"Must be a number"}),Object(v.jsx)("input",{value:b.price,name:"price",type:"text",class:"form-control",onChange:N,style:!0===O.price?{border:"solid 1px red",boxShadow:"0 0 0 .2rem rgba(255,0,0,.25)"}:{}})]}),Object(v.jsxs)("div",{class:"form-group",children:[Object(v.jsx)("label",{for:"exampleInputPassword1",children:"Unit"}),Object(v.jsx)("label",{style:!0===O.unit?{visibility:"visible",fontSize:"14px"}:{visibility:"hidden"},className:"ml-3 text-danger",children:"Must be a number"}),Object(v.jsx)("input",{value:b.unit,name:"unit",type:"text",class:"form-control",onChange:N,style:!0===O.unit?{border:"solid 1px red",boxShadow:"0 0 0 .2rem rgba(255,0,0,.25)"}:{}})]}),Object(v.jsxs)("div",{className:"select_input",children:[Object(v.jsx)("p",{className:"input_label",children:"Category"}),Object(v.jsx)("select",{name:"category",className:"form-control",value:b.category,onChange:N,children:t.map((function(e){return Object(v.jsx)("option",{value:e._id,children:e.name},e._id)}))})]}),Object(v.jsx)("button",{type:"submit",class:"btn btn-primary mt-2",children:"Submit"})]})]})},P=a(47),_=function(e){var t=e.setIsOpen,a=e.setIsSuccesCreatedItem,n=e.setItemModal,c=e.setModalCategoryOpen,s=e.setLogininmodal;return Object(v.jsxs)("nav",{class:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(v.jsx)(k.b,{class:"navbar-brand",to:"/",onClick:function(){a()},children:"Magazin\xeb"}),Object(v.jsx)("div",{class:"collapse navbar-collapse  ",id:"navbarNav",children:Object(v.jsxs)("ul",{class:"navbar-nav",children:[Object(v.jsx)("li",{class:"nav-item active",children:Object(v.jsx)(k.b,{class:"nav-link",to:"/contactUs",children:"Contact Us"})}),localStorage.getItem("idToken")&&Object(v.jsx)("li",{class:"nav-item",children:Object(v.jsx)("div",{style:{cursor:"pointer"},class:"nav-link",onClick:function(){n(!0),t(!0)},children:"Add Item"})}),localStorage.getItem("idToken")&&Object(v.jsx)("li",{class:"nav-item",children:Object(v.jsx)("div",{style:{cursor:"pointer"},onClick:function(){c(!0)},class:"nav-link",to:"/s",children:"Add Category"})}),Object(v.jsx)("li",{class:"nav-item",children:Object(v.jsx)(k.b,{to:"/about",class:"nav-link",children:"About"})})]})}),localStorage.getItem("idToken")?Object(v.jsxs)("div",{style:{width:"150px"},className:"d-flex  justify-content-between",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("i",{class:"bi bi-person mr-1"}),Object(v.jsx)("span",{children:Object(P.a)(localStorage.getItem("idToken"))["cognito:username"]})]}),Object(v.jsxs)("div",{className:"logOut",style:{cursor:"pointer"},onClick:function(){localStorage.removeItem("idToken"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.reload(!0)},children:[Object(v.jsx)("span",{children:"Log out"}),Object(v.jsx)("i",{class:"bi bi-box-arrow-in-right ml-1"})]})]}):Object(v.jsx)("div",{style:{cursor:"pointer"},onClick:function(){s(!0)},children:"Login/Sign Up"})]})},U=a(17),L=function(){var e=Object(x.f)(),t=Object(n.useState)({email:"",message:""}),a=Object(d.a)(t,2),c=a[0],s=a[1],i=function(e){s(Object(r.a)(Object(r.a)({},c),{},Object(U.a)({},e.target.name,e.target.value)))},b=function(){var t=Object(l.a)(o.a.mark((function t(a){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),console.log(c),t.next=4,u.a.post("https://tal7fy956f.execute-api.eu-south-1.amazonaws.com/dev/messageUpload/".concat(c.email,"/").concat(c.message),{});case 4:n=t.sent,console.log(n),h.c.success("We will contact you shortly ".concat(c.email)),e.push("/");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(v.jsxs)("form",{className:"w-50 m-auto",onSubmit:b,children:[Object(v.jsxs)("div",{class:"form-group mt-5",children:[Object(v.jsx)("label",{for:"exampleInputEmail1",children:"Email address"}),Object(v.jsx)("input",{value:c.email,onChange:i,type:"email",class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email",name:"email"}),Object(v.jsx)("small",{id:"emailHelp",class:"form-text text-muted",children:"We'll never share your email with anyone else."})]}),Object(v.jsx)("textarea",{onChange:i,name:"message",value:c.message,class:"form-control",id:"exampleFormControlTextarea1",rows:"3"}),Object(v.jsx)("button",{type:"submit",class:"btn btn-primary mt-4",children:"Submit"})]})},R={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",display:"flex",flexDirection:"column",padding:"20px 50px",backgroundColor:"white",borderRadius:10}},B={names:"",image:""},W={names:void 0,images:void 0},$=function(e){var t=e.modalCategoryOpen,a=e.closeModal,c=e.categoryAdded,s=e.setCategoryAdded;O.a.setAppElement("#root");var i=Object(x.f)(),b=Object(n.useState)(B),j=Object(d.a)(b,2),m=j[0],p=j[1],g=Object(n.useState)(""),y=Object(d.a)(g,2),w=y[0],k=y[1],C=Object(n.useState)(W),S=Object(d.a)(C,2),N=S[0],I=S[1],A=Object(n.useState)(!1),E=Object(d.a)(A,2),z=E[0],T=E[1],M=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.files[0].type.startsWith("image/")){e.next=10;break}return p(Object(r.a)(Object(r.a)({},m),{},{image:t.target.files[0]})),e.next=4,u.a.get("https://w3mjpdk90m.execute-api.eu-south-1.amazonaws.com/dev/getUploadUrl/".concat(t.target.files[0].name.split(".")[1]));case 4:a=e.sent,n=a.data,k(n.link),I(Object(r.a)(Object(r.a)({},N),{},{images:!1})),e.next=12;break;case 10:I(Object(r.a)(Object(r.a)({},N),{},{images:!0})),t.target.value=null;case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!1!==N.names||!1!==N.images){e.next=15;break}return T(!0),e.next=5,u.a.put(w,m.image,{headers:{"Content-Type":"multipart/form-data"}});case 5:return e.prev=5,e.next=8,u.a.post("https://h05yrcqc6a.execute-api.eu-south-1.amazonaws.com/dev/addCategory/".concat(m.names,"?url=").concat(w.split("?")[0]),null,{headers:{"Access-Control-Allow-Origin":"*",Authorization:localStorage.getItem("idToken")}});case 8:201===e.sent.status&&(T(!1),p(B),h.c.success("Added successfully"),a(),i.push("/"),s(c+1),I(W)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),h.c.error("Please complete the form correctly");case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(O.a,{isOpen:t,onRequestClose:a,style:R,contentLabel:"Example Modal",children:[Object(v.jsx)("div",{style:z?{visibility:"visible"}:{visibility:"hidden"},className:"upper-top",children:Object(v.jsx)(f.a,{className:"upper-top",type:"spinningBubbles",color:"red",height:"150px",width:"150px"})}),Object(v.jsxs)("form",{onSubmit:D,children:[Object(v.jsxs)("div",{class:"form-row",children:[Object(v.jsxs)("div",{class:"form-group col-md-6",children:[Object(v.jsx)("label",{for:"inputEmail4",children:"Name"}),Object(v.jsx)("label",{style:!0===N.names?{visibility:"visible",fontSize:"14px"}:{visibility:"hidden"},className:"ml-3 text-danger ",children:"Name must contains only characters"}),Object(v.jsx)("input",{name:"names",value:m.names,onChange:function(e){""===e.target.value&&p(Object(r.a)(Object(r.a)({},m),{},{names:e.target.value})),/^[A-Za-z]+$/.test(e.target.value)?(p(Object(r.a)(Object(r.a)({},m),{},{names:e.target.value})),""!==e.target.value?I(Object(r.a)(Object(r.a)({},N),{},{names:!1})):I(Object(r.a)(Object(r.a)({},N),{},{names:!0}))):(I(Object(r.a)(Object(r.a)({},N),{},{names:!0})),p(Object(r.a)(Object(r.a)({},m),{},{names:e.target.value})))},type:"text",class:"form-control",style:!0===N.names?{border:"solid 1px red",boxShadow:"0 0 0 .2rem rgba(255,0,0,.25)"}:{}})]}),Object(v.jsxs)("div",{class:"form-group  col-md-12",children:[Object(v.jsx)("label",{children:"Image"}),Object(v.jsx)("label",{style:!0===N.images?{visibility:"visible",fontSize:"14px"}:{visibility:"hidden"},className:"ml-3 text-danger",children:"Make sure the document is an image!"}),Object(v.jsx)("input",{accept:"image/*",onChange:M,name:"images",value:m.images,type:"file",class:"form-control pointer",style:!0===N.images?{border:"solid 1px red",boxShadow:"0 0 0 .2rem rgba(255,0,0,.25)"}:{}})]})]}),Object(v.jsxs)("div",{className:"row justify-content-between col-md-5",children:[Object(v.jsx)("button",{type:"submit",class:"btn btn-success",children:"Create"}),Object(v.jsx)("button",{className:"btn btn-danger align-self-end",onClick:function(){a()},children:"Close"})]})]})]})},H=function(){return Object(v.jsx)("div",{class:"page-wrap d-flex flex-row align-items-center mt-4",children:Object(v.jsx)("div",{class:"container",children:Object(v.jsx)("div",{class:"row justify-content-center",children:Object(v.jsxs)("div",{class:"col-md-12 text-center",children:[Object(v.jsx)("span",{class:"display-1 d-block",children:"404"}),Object(v.jsx)("div",{class:"mb-4 lead",children:"The page you are looking for was not found."}),Object(v.jsx)(k.b,{to:"/",class:"btn btn-link",children:"Home"})]})})})})},q=a(48),Z=a.n(q),J=(a(107),function(e){var t=e.closeModal,a=e.modalisOpen,c=(e.setModalConfirmCode,e.openLogin);O.a.setAppElement("#root");var s=Object(n.useState)(!0),i=Object(d.a)(s,2),b=i[0],j=i[1],m=Object(n.useState)(void 0),p=Object(d.a)(m,2),x=p[0],g=p[1],f=Object(n.useState)({username:"",email:"",password:""}),y=Object(d.a)(f,2),w=y[0],k=y[1],C=Object(n.useState)({email:!1,username:!1,passwordOneCapitalLetter:!1,passwordOnenumber:!1,passwordLonger:!1}),S=Object(d.a)(C,2),N=S[0],I=S[1],A=function(e){var t;k(Object(r.a)(Object(r.a)({},w),{},Object(U.a)({},e.target.name,e.target.value))),"email"===e.target.name&&I(Object(r.a)(Object(r.a)({},N),{},{email:!Z()(e.target.value)})),"username"===e.target.name&&I(Object(r.a)(Object(r.a)({},N),{},{username:e.target.value.length<3})),"password"===e.target.name&&(t=e.target.value,I(Object(r.a)(Object(r.a)({},N),{},{passwordOneCapitalLetter:!/[A-Z]/.test(t),passwordLonger:t.length<8,passwordOnenumber:!/[1-90]/.test(t)})))},E=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,u.a.get("https://vncxnflmg5.execute-api.eu-south-1.amazonaws.com/dev/getToken?username=".concat(w.username,"&email=").concat(w.email,"&password=").concat(w.password),{headers:{"Access-Control-Allow-Origin":"*"}});case 4:201===e.sent.status&&j(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),h.b.error("Username is taken");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("https://eyrwkgdhtd.execute-api.eu-south-1.amazonaws.com/dev/confirmCode?username=".concat(w.username,"&code=").concat(x));case 3:201===e.sent.status?(h.b.success("Verified.Now login!"),t()):h.b.error("Wrong code, try again!"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),h.b.error("Try again!");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("https://rkhd6s5iwj.execute-api.eu-south-1.amazonaws.com/dev/resendConfirmCode?username=".concat(w.username));case 3:t=e.sent,console.log(t),200===t.status&&h.b.success("Check your email"),j(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),h.b.error("Try again");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)(O.a,{isOpen:a,onRequestClose:t,style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",display:"flex",flexDirection:"column",padding:"20px 50px",backgroundColor:"white",borderRadius:10,position:"relative",width:"35vw",height:"auto"}},children:b?Object(v.jsxs)("div",{classNameName:"signup",children:[Object(v.jsx)("div",{class:"float-left",children:Object(v.jsx)("button",{type:"button",class:"btn btn-outline-dark",onClick:function(){t(!1),c(!0)},children:"Back"})}),Object(v.jsxs)("form",{className:"w-50 m-auto",children:[Object(v.jsxs)("div",{className:"form-group mt-2",children:[Object(v.jsx)("label",{for:"exampleInputEmail1",children:"E-mail"})," ",N.email&&Object(v.jsx)("p",{className:"d-inline text-danger ml-3",children:"E-mail must be a valid one"}),Object(v.jsx)("input",{type:"email",className:"form-control",id:"exampleInputEmail1",placeholder:"E-mail",name:"email",value:w.email,onChange:A})]}),Object(v.jsxs)("div",{className:"form-group mt-2",children:[Object(v.jsx)("label",{for:"exampleInputEmail1",children:"Username"})," ",N.username&&Object(v.jsx)("p",{className:"d-inline text-danger ml-3",children:"Longer username"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Username",name:"username",value:w.username,onChange:A})]}),Object(v.jsxs)("div",{className:"form-group mt-2",children:[Object(v.jsx)("label",{for:"exampleInputPassword1",children:"Password"}),Object(v.jsx)("input",{type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password",name:"password",value:w.password,onChange:A}),N.passwordOnenumber&&Object(v.jsx)("p",{className:"text-danger warningPassword",children:"Password must contain a number"}),N.passwordOneCapitalLetter&&Object(v.jsx)("p",{className:"text-danger warningPassword",children:"Password must contain a capital letter"}),N.passwordLonger&&Object(v.jsx)("p",{className:"text-danger warningPassword",children:"Password should be at least 8 character"})]}),Object(v.jsx)("button",{type:"submit",className:"btn btn-outline-primary mt-2",onClick:E,children:"Sign Up"})]})]}):Object(v.jsxs)("div",{className:"",children:[Object(v.jsx)("p",{children:"Please check you email we sent you a verification code there!"}),Object(v.jsx)("label",{for:"exampleInputEmail1",children:"Code"}),Object(v.jsxs)("div",{className:"w-100",children:[Object(v.jsx)("input",{value:x,type:"text",class:"form-control w-50 d-inline",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter code",onChange:function(e){return g(e.target.value)}}),Object(v.jsx)("button",{className:"btn btn-success d-inline ml-4",onClick:z,children:"Approve"})]}),Object(v.jsx)("p",{className:"mt-3 mb-1",children:"Didn't get any code?"}),Object(v.jsx)("button",{className:"btn btn-outline-primary btn-sm w-25",onClick:T,children:"Send again"})]})})}),F={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",height:"auto",display:"flex",flexDirection:"column",padding:"20px 50px",backgroundColor:"white",borderRadius:10}},V=function(e){var t=e.modalIsOpen,a=e.closeModal,c=e.setLoginSignUp;O.a.setAppElement("#root");var s=Object(n.useState)(!1),i=Object(d.a)(s,2),b=i[0],j=i[1],m=Object(n.useState)({username:"",password:""}),p=Object(d.a)(m,2),x=p[0],g=p[1],f=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,u.a.get("https://mpghr64d46.execute-api.eu-south-1.amazonaws.com/dev/login?username=".concat(x.username,"&password=").concat(x.password));case 4:n=e.sent,localStorage.setItem("accesToken",n.data.message.accessToken),localStorage.setItem("idToken",n.data.message.idToken),localStorage.setItem("refreshToken",n.data.message.refreshToken),201===n.status&&a(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),h.b.error("Wrong password try again");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),y=function(e){g(Object(r.a)(Object(r.a)({},x),{},Object(U.a)({},e.target.name,e.target.value))),"password"===e.target.name&&j(e.target.value.length<8)};return Object(v.jsxs)(O.a,{isOpen:t,style:F,children:[Object(v.jsxs)("form",{className:"w-100 m-auto",onSubmit:f,children:[Object(v.jsxs)("div",{className:"form-group ",children:[Object(v.jsx)("label",{for:"exampleInputEmail1",children:"Username"}),Object(v.jsx)("input",{value:x.username,name:"username",type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Username",onChange:y})]}),Object(v.jsxs)("div",{className:"form-group ",children:[Object(v.jsx)("label",{for:"exampleInputPassword1",children:"Password"})," ",b&&Object(v.jsx)("p",{className:"d-inline  text-danger ml-2",children:"Password too short"}),Object(v.jsx)("input",{value:x.password,name:"password",type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password",onChange:y})]}),Object(v.jsx)("button",{type:"submit",className:"btn btn-outline-primary mt-2",children:"Log In"}),Object(v.jsx)("hr",{class:"mt-3 mb-3"}),Object(v.jsx)("p",{className:"d-inline",children:"Create account here"}),Object(v.jsx)("button",{type:"button",class:"btn btn-light btn-sm ml-2",onClick:function(){a(),c(!0)},children:"Create"})]}),Object(v.jsx)("div",{className:" w-100 mt-3",children:Object(v.jsx)("button",{type:"button",class:"btn btn-outline-danger btn-sm float-right",onClick:function(){a(!1)},children:"Exit"})})]})};a(111);var G=function(){var e=Object(n.useState)({}),t=Object(d.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),i=Object(d.a)(s,2),b=i[0],j=i[1],p=Object(n.useState)(0),O=Object(d.a)(p,2),g=O[0],y=O[1],k=Object(n.useState)(0),C=Object(d.a)(k,2),S=C[0],E=C[1],M=Object(n.useState)([]),P=Object(d.a)(M,2),U=P[0],R=P[1],B=Object(n.useState)(!1),W=Object(d.a)(B,2),q=W[0],Z=W[1],F=Object(n.useState)(!0),G=Object(d.a)(F,2),K=G[0],Q=G[1],X=Object(n.useState)(!1),Y=Object(d.a)(X,2),ee=Y[0],te=Y[1],ae=Object(n.useState)(!1),ne=Object(d.a)(ae,2),ce=ne[0],se=ne[1],re=Object(n.useState)(!1),ie=Object(d.a)(re,2),oe=ie[0],le=ie[1],de=Object(n.useState)(!1),be=Object(d.a)(de,2),ue=be[0],je=be[1],me=Object(n.useState)(!1),pe=Object(d.a)(me,2),Oe=pe[0],he=pe[1],xe=document.documentElement.clientWidth<640?1:document.documentElement.clientWidth>1280?3:2,ge={dots:!0,infinite:!0,speed:500,slidesToShow:xe,slidesToScroll:xe},fe=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("https://njfgs7ep32.execute-api.eu-south-1.amazonaws.com/dev/getCategories");case 2:t=e.sent,a=t.data,R(a.categories);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){fe()}),[g]),Object(v.jsxs)("div",{className:"homepage",children:[Object(v.jsx)(h.a,{position:"top-center",reverseOrder:!1}),Object(v.jsx)(_,{setItemModal:Q,itemModal:K,setIsOpen:j,setModalCategoryOpen:te,isSuccesCreatedItem:S,setIsSuccesCreatedItem:E,setCategories:R,setLogininmodal:se}),Object(v.jsxs)("div",{className:"bodyMix bg-light",children:[Object(v.jsxs)("div",{className:"categories",children:[Object(v.jsx)("h2",{className:"category__header",children:" Categories"}),Object(v.jsx)("div",{style:Oe?{visibility:"visible"}:{visibility:"hidden"},className:"upper-top",children:Object(v.jsx)(f.a,{className:"loader",type:"spinningBubbles",color:"red",height:"150px",width:"150px"})}),Object(v.jsx)(m.a,Object(r.a)(Object(r.a)({},ge),{},{children:U.map((function(e){return Object(v.jsx)(N,{setIsDeleted:he,categoryAdded:g,setCategoryAdded:y,didCategoryChange:!0,setDidCategoryChange:function(){Z(!q)},item:e},e._id)}))}))]}),Object(v.jsxs)(x.c,{children:[Object(v.jsx)(x.a,{exact:!0,path:"/",children:Object(v.jsx)(A,{isItemAdded:ue,ItemComponent:I})}),Object(v.jsx)(x.a,{path:"/contactUs",children:Object(v.jsx)(L,{})}),Object(v.jsx)(x.a,{path:"/category/:id",children:Object(v.jsx)(T,{didCategoryChange:q})}),Object(v.jsx)(x.a,{path:"/edit/:id",children:Object(v.jsx)(D,{categories:U,toast:h.b})}),Object(v.jsx)(x.a,{path:"/items/:_id",children:Object(v.jsx)(z,{})}),Object(v.jsx)(x.a,{path:"*",component:H})]}),Object(v.jsx)(w,{itemModal:K,modalIsOpen:b,closeModal:function(){return j(!1)},categories:U,ariaHideApp:!1,errors:a,setErrors:c,setisItemAdded:je,isItemAdded:ue}),Object(v.jsx)($,{categoryAdded:g,setCategoryAdded:y,itemModal:K,modalCategoryOpen:ee,closeModal:function(){return te(!1)},ariaHideApp:!1}),Object(v.jsx)(J,{closeModal:function(){return le(!1)},modalisOpen:oe,openLogin:se}),Object(v.jsx)(V,{modalIsOpen:ce,closeModal:se,setLoginSignUp:le})]})]})};a(112);s.a.render(Object(v.jsx)(k.a,{children:Object(v.jsx)(G,{})}),document.getElementById("root"))},53:function(e,t,a){}},[[113,1,2]]]);
//# sourceMappingURL=main.41c46dae.chunk.js.map